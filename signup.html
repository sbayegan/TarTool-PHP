<!DOCTYPE html>
<html>
<head>
<script src="http://ajax.googleapis.com/ajax/libs/jquery/1.11.2/jquery.min.js"></script>
<script>

var username = 0;
var email = 0;
var pass = 0;
var repass = 0;
function available(str) {
    if (str.length < 4) { 
        document.getElementById("user-status").innerHTML = "too short";
        username = 0;
        {document.getElementById("submit_btn").disabled = true;}
        return;
    } else {
        var xmlhttp = new XMLHttpRequest();
        xmlhttp.onreadystatechange = function() {
            if (xmlhttp.readyState == 4 && xmlhttp.status == 200) {
                if(xmlhttp.responseText == 1){
                  document.getElementById("user-status").innerHTML = "okay";
                  username = 1;
                  if(username ==1 && email ==1 && pass == 1 && repass ==1)
                  {document.getElementById("submit_btn").disabled = false;}
                }
                if(xmlhttp.responseText == 0){
                  document.getElementById("user-status").innerHTML = "taken";
                  username = 0;
                  {document.getElementById("submit_btn").disabled = true;}
                }
            }
        }
        xmlhttp.open("GET", "usernamecheck.php?username=" + str, true);
        xmlhttp.send();
    }
}
function valid(str) {
        var xmlhttp = new XMLHttpRequest();
        xmlhttp.onreadystatechange = function() {
            if (xmlhttp.readyState == 4 && xmlhttp.status == 200) {
                if(xmlhttp.responseText == 1){
                  document.getElementById("email-status").innerHTML = "well formed :-)";
                  email = 1;
                  if(username ==1 && email ==1 && pass == 1 && repass ==1)
                  {document.getElementById("submit_btn").disabled = false;}
                }
                 if(xmlhttp.responseText == 0){
                  document.getElementById("email-status").innerHTML = "ill-formed email address";
                  email = 0;
                  {document.getElementById("submit_btn").disabled = true;}
                }
		if(xmlhttp.responseText == 2){
                  document.getElementById("email-status").innerHTML = "already registered";
                  email = 0;
                  {document.getElementById("submit_btn").disabled = true;}
                }

           }
        }
        
        xmlhttp.open("GET", "emailcheck.php?email=" + str, true);
        xmlhttp.send();
}
function passcheck(str) {
        var xmlhttp = new XMLHttpRequest();
        xmlhttp.onreadystatechange = function() {
            if (xmlhttp.readyState == 4 && xmlhttp.status == 200) {
                if(xmlhttp.responseText == 1){
                  document.getElementById("pass-status").innerHTML = "good";
                  pass = 1;
                  if(username ==1 && email ==1 && pass == 1 && repass ==1)
                  {document.getElementById("submit_btn").disabled = false;}
                }
                if(xmlhttp.responseText == 0){
                  document.getElementById("pass-status").innerHTML = "too short";
                  pass = 0;
                  {document.getElementById("submit_btn").disabled = true;}
                }
            }
        }
        xmlhttp.open("POST", "passwordcheck.php", true);
        xmlhttp.setRequestHeader("Content-type","application/x-www-form-urlencoded");
        xmlhttp.send("pass="+str);
}

function passmatch(){
			if(document.getElementById("password").value == document.getElementById("password1").value){
				document.getElementById("pass1-status").innerHTML = "matched";
				repass = 1;
                  		if(username ==1 && email ==1 && pass == 1 && repass ==1)
        			{document.getElementById("submit_btn").disabled = false;}
							}
			if(document.getElementById("password").value != document.getElementById("password1").value){
				document.getElementById("pass1-status").innerHTML = "not mached";
				repass = 0;
				{document.getElementById("submit_btn").disabled = true;}
							}

			}						

</script>


<style type="text/css">

body {
 font-family:Arial Helvetica, sans-serif
}
#availability_status {
 font-size:11px;
 margin-left:10px;
}

 label {
  width: 180px;
  float: left;
  text-align: left;
  display: block;


}
.style_form {
 margin:3px;
}
#content {
 margin-left: auto;
 margin-right: auto;
 width: 600px;
 margin-top:200px;
}
#submit_btn {
 margin-left:133px;
 height:30px;
 width: 221px;
 }
  </style>
</head>


<body>
<div id="content">
 <form action="registeration.php" method="post" id="form" autocomplete="off">
 <div>
 <label for="full_name">Full Name :</label>
 <input type="text" name="full_name" id="full_name" />
 </div>

 <div>
 <label for="email">Email  :</label>
 <input type="text" name="email" id="email" onkeyup="valid(this.value)"/>
 <span id="email-status"></span>
 </div>
 
 <div>
 <label for="username">Username :</label>
 <input type="text" name="username" id="username" onkeyup="available(this.value)"/>
 <span id="user-status"> </span> 
 </div>

 <div>
 <label for="password">Password :</label>
 <input type="password" length="25" name="password" id="password" onkeyup="passcheck(this.value)"/>
 <span id="pass-status"> </span> 
 </div>

 <div>
 <label for="password1">Retype Password :</label>
 <input type="password" length="25" name="retype password" id="password1" onkeyup="passmatch()"/>
 <span id="pass1-status"> </span> 
 </div>
 <br>
 <div>
Who are you? 
 <select name="type" form="form" >
        <option value="NULL">choose one</option>
        <option value="one">a founder</option>
        <option value="two">working at a startup</option>
         <option value="three">I just like strartups</option>
        <option value="four">None of your business!</option>
    </select>
 </div>
 <div>
 <input name="submit" type="submit" value="submit" id="submit_btn" disabled />
 </div>
    
 </form>

</div>

</body>

</html>
